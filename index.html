<!doctype html>
<html lang="fa">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
 <link rel="icon" type="image/png" href="eyb.png">
<title>جدول عیوب محصولات </title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@300;400;700&display=swap" rel="stylesheet">
<style>
:root{--accent:#0b69ff;--critical-bg:#fff0f0;--header-bg:#f5f5f7;}
html,body{height:100%;margin:0;font-family:"Noto Sans Arabic", Tahoma, "Segoe UI", Arial, sans-serif;direction:rtl;background:#fafafa;color:#222;padding:16px;}
h3{margin:0 0 12px;font-weight:600}
.controls{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:12px;align-items:center}
input[type="text"], button {padding:8px 10px;font-size:14px;border:1px solid #dcdcdc;border-radius:4px;background:#fff}
button.small{padding:6px 8px;font-size:13px;cursor:pointer}
.wrap-table{background:#fff;border:1px solid #e6e6e6;border-radius:6px;overflow:hidden;}
.table-scroller{max-height:64vh;overflow:auto;position:relative}
table{width:100%;border-collapse:collapse;min-width:720px}
thead th{position:sticky;top:0;background:var(--header-bg);z-index:5;padding:10px 8px;border-bottom:1px solid #e0e0e0;text-align:right;cursor:pointer;user-select:none}
thead th.sort-asc::after, thead th.sort-desc::after{content:"";display:inline-block;margin-left:8px;border:6px solid transparent}
thead th.sort-asc::after{border-bottom-color:#333}
thead th.sort-desc::after{border-top-color:#333}
tbody td{padding:8px;border-bottom:1px solid #f0f0f0;text-align:right;vertical-align:middle}
tr.critical{background:var(--critical-bg)}
tr.hidden{display:none}
td.actions{width:160px;text-align:center}
.actions button{margin:0 4px}
.inline-input{width:100%;box-sizing:border-box;padding:6px;border:1px solid #cfcfcf;border-radius:4px}
.row-editing{outline:2px solid #e6f2ff}
.msg{height:20px;color:#0a4;font-size:13px;margin-top:8px}
.controls .group{display:flex;gap:8px;align-items:center}
.add-row{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
.add-row input{min-width:140px}
.selected{background:#d0e7ff}
footer{margin-top:12px;font-size:12px;color:#555;text-align:center}
@media (max-width:820px){
  table{min-width:640px}
  thead th{font-size:13px;padding:8px}
  tbody td{font-size:13px;padding:6px}
  .controls{flex-direction:column;align-items:stretch}
}
</style>
</head>
<body>

<h3>جدول داده‌ها</h3>

<div class="controls" role="region" aria-label="ابزارها">
  <div class="group">
    <label class="small" for="searchInput">جستجو در همه ستون‌ها</label>
    <input id="searchInput" type="text" placeholder="دابل کلیک برای پاک کردن..." />
    <button id="copyBtn" class="small">کپی ردیف‌های انتخابی</button>
  </div>
</div>

<div class="wrap-table" aria-live="polite">
  <div class="table-scroller">
    <table id="dataTable" dir="rtl" role="table" aria-label="جدول داده ها">
      <thead>
        <tr>
          <th data-col="severity" scope="col" title="کلیک برای مرتب‌سازی">شدت</th>
          <th data-col="factor" scope="col" title="کلیک برای مرتب‌سازی">عامل</th>
          <th data-col="code" scope="col" title="کلیک برای مرتب‌سازی">کد</th>
          <th data-col="category" scope="col" title="کلیک برای مرتب‌سازی">دسته‌بندی</th>
        </tr>
      </thead>
      <tbody>
        <!-- داده‌ها -->
      </tbody>
    </table>
  </div>
</div>

<div style="margin-top:12px;text-align:center;font-size:13px;color:#555;">
  © 2025 همه حقوق محفوظ است | نویسنده: مصیب خانی
</div>

<script>
(function(){
const table = document.getElementById('dataTable');
const tbody = table.querySelector('tbody');
const searchInput = document.getElementById('searchInput');
const copyBtn = document.getElementById('copyBtn');
const headers = Array.from(table.querySelectorAll('thead th'));
let sortState = {col:null, dir:1};
let selectedRows = new Set();

const data = [
['بحرانی','شیشه','101','وجود اجسام خارجی'],
['غیر بحرانی','مو','201','وجود اجسام خارجی'],
['غیر بحرانی','پَر','202','وجود اجسام خارجی'],
['بحرانی','سنگ','203','وجود اجسام خارجی'],
['غیر بحرانی','ماسه','204','وجود اجسام خارجی'],
['غیر بحرانی','گل','205','وجود اجسام خارجی'],
['بحرانی','هسته','206','وجود اجسام خارجی'],
['غیر بحرانی','ساقه','207','وجود اجسام خارجی'],
['غیر بحرانی','کارتن','208','وجود اجسام خارجی'],
['غیر بحرانی','چوب','209','وجود اجسام خارجی'],
['غیر بحرانی','نخ','210','وجود اجسام خارجی'],
['غیر بحرانی','نخ پلاستیکی','211','وجود اجسام خارجی'],
['غیر بحرانی','کنف گونی','212','وجود اجسام خارجی'],
['غیر بحرانی','سلفون','213','وجود اجسام خارجی'],
['غیر بحرانی','چوب کبریت','214','وجود اجسام خارجی'],
['بحرانی','فیلتر سیگار','215','وجود اجسام خارجی'],
['بحرانی','تکه فلز','216','وجود اجسام خارجی'],
['بحرانی','پیچ','217','وجود اجسام خارجی'],
['بحرانی','میخ','218','وجود اجسام خارجی'],
['بحرانی','پونز','219','وجود اجسام خارجی'],
['بحرانی','مهره','220','وجود اجسام خارجی'],
['بحرانی','سیم مفتول','221','وجود اجسام خارجی'],
['غیر بحرانی','برگ','222','وجود اجسام خارجی'],
['غیربحرانی','پوست تخمه','223','وجود اجسام خارجی'],
['بحرانی','چسب زخم','224','وجود اجسام خارجی'],
['غیر بحرانی','پوست پیاز','225','وجود اجسام خارجی'],
['غیر بحرانی','خاک و خاشاک','226','وجود اجسام خارجی'],
['غیر بحرانی','ریگ','227','وجود اجسام خارجی'],
['غیربحرانی','تکه پلاستیکی','228','وجود اجسام خارجی'],
['غیر بحرانی','کاغذ شکلات','229','وجود اجسام خارجی'],
['بحرانی','ناخن','230','وجود اجسام خارجی'],
['بحرانی','ناخن گیر','231','وجود اجسام خارجی'],
['غیر بحرانی','دستکش بریده','232','وجود اجسام خارجی'],
['غیر بحرانی','تکه پارچه','233','وجود اجسام خارجی'],
['غیر بحرانی','پوست پسته','234','وجود اجسام خارجی'],
['غیر بحرانی','پوست تخم مرغ','235','وجود اجسام خارجی'],
['بحرانی','فضولات حیوانی','236','وجود اجسام خارجی'],
['بحرانی','کاشی/ سرامیک','237','وجود اجسام خارجی'],
['بحرانی','آدامس','238','وجود اجسام خارجی'],
['غیر بحرانی','تکه نان','239','وجود اجسام خارجی'],
['بحرانی','آهن ربا','240','وجود اجسام خارجی'],
['بحرانی','هسته خرد شده','241','وجود اجسام خارجی'],
['بحرانی','تیغ ماهی','242','وجود اجسام خارجی'],
['بحرانی','تیغ گیاه','243','وجود اجسام خارجی'],
['غیر بحرانی','(سایر )وجود اجسام خارجی','299','وجود اجسام خارجی'],
['غیر بحرانی','توزین نامناسب شربت و میوه','301','توزین نامناآبسس'],
['غیر بحرانی','توزین نامناسب مواد اولیه و آبسس','302','توزین نامناآبسس'],
['غیر بحرانی','رقیق بودن','303','توزین نامناآبسس'],
['غیر بحرانی','غلیظ بودن','304','توزین نامناآبسس'],
['غیربحرانی','(سایر )توزین نامناسب مواد.','399','توزین نامناآبسس'],
['غیر بحرانی','دو فاز شدن','401','دو فاز شدگیشدگی'],
['غیر بحرانی','ابری شدن','402','دو فاز شدگیشدگی'],
['بحرانی','کپک زدگی','501','کپک زدگی و بادکردگی'],
['بحرانی','بادکردگی','502','کپک زدگی و بادکردگی'],
['بحرانی','مسمومیت و آلودگی میکروبی','503','کپک زدگی و بادکردگی'],
['بحرانی','سوسک','601','وجود حشرات محصول'],
['بحرانی','مگس','602','وجود حشرات محصول'],
['بحرانی','کرم','603','وجود حشرات محصول'],
['بحرانی','ملخ','604','وجود حشرات محصول'],
['بحرانی','حلزون','605','وجود حشرات محصول'],
['بحرانی','زنبورعسل','606','وجود حشرات محصول'],
['بحرانی','مورچه','607','وجود حشرات محصول'],
['بحرانی','کفش دوزک','608','وجود حشرات محصول'],
['بحرانی','عنکبوت','609','وجود حشرات محصول'],
['بحرانی','جیر جیرک','610','وجود حشرات محصول'],
['بحرانی','پشه','611','وجود حشرات محصول'],
['بحرانی','پروانه کوچک','612','وجود حشرات محصول'],
['بحرانی','اجزای بدن حشره','613','وجود حشرات محصول'],
['بحرانی','حشره ریز','614','وجود حشرات محصول'],
['بحرانی','مارمولک','615','وجود حشرات محصول'],
['بحرانی','(سایر )وجود حشرات در محصول','699','وجود حشرات محصول'],
['غیر بحرانی','یکنواخت نبودن قطعات مواد اولیه','701','نامطلوب بودظاهری'],
['غیر بحرانی','درشت بودن قطعات مواد اولیه','702','نامطلوب بودظاهری'],
['غیر بحرانی','درشت بودن خیارشورها','703','نامطلوب بودظاهری'],
['غیر بحرانی','ریز بودن قطعات مواد اولیه','704','نامطلوب بودظاهری'],
['غیر بحرانی','له بودن قطعات مواد اولیه','705','نامطلوب بودظاهری'],
['غیر بحرانی','پوست گیری نامناسب','706','نامطلوب بودظاهری'],
['غیر بحرانی','سفید شدگی خیار شورها','707','نامطلوب بودظاهری'],
['غیر بحرانی','کلوخه ای شدن','708','نامطلوب بودظاهری'],
['غیر بحرانی','زیاد بودن لرد محصول','709','نامطلوب بودظاهری'],
['غیر بحرانی','خالی بودن درصد بالایی از محصول','710','نامطلوب بودظاهری'],
['غیر بحرانی','ظاهر و بافت نا مناسب','711','نامطلوب بودظاهری'],
['غیر بحرانی','وجود ذرات سیاه در محصول','712','نامطلوب بودظاهری'],
['غیر بحرانی','زیاد بودن روغن در محصول','713','نامطلوب بودظاهری'],
['غیر بحرانی','وجود ذرات سفید در محصول','714','نامطلوب بودظاهری'],
['غیر بحرانی','روغن انداختگی','715','نامطلوب بودظاهری'],
['غیر بحرانی','چروکیدگی محصول','716','نامطلوب بودظاهری'],
['غیر بحرانی','ماسیدگی روغن داخل محصول','717','نامطلوب بودظاهری'],
['غیر بحرانی','(سایر )نامطلوب بودن شکل ظاهری','799','نامطلوب بودظاهری'],
['غیر بحرانی','لیز و لزج شدگی','801','نامطلوب بودمحصول'],
['غیر بحرانی','نرم شدگی','802','نامطلوب بودمحصول'],
['غیر بحرانی','شکرک زدن','803','نامطلوب بودمحصول'],
['غیر بحرانی','نشاسته زدگی','804','نامطلوب بودمحصول'],
['غیر بحرانی','ژله ای شدن','805','نامطلوب بودمحصول'],
['غیر بحرانی','آب انداختن','806','نامطلوب بودمحصول'],
['غیر بحرانی','(سایر ) نامطلوب بودن بافت','899','نامطلوب بودمحصول'],
['غیر بحرانی','تلخ بودن','901','نامطلوب بودطعم'],
['غیر بحرانی','تند بودن','902','نامطلوب بودطعم'],
['غیربحرانی','شور بودن','903','نامطلوب بودطعم'],
['غیربحرانی','ترش بودن','904','نامطلوب بودطعم'],
['غیر بحرانی','شیرین بودن','905','نامطلوب بودطعم'],
['غیر بحرانی','کم بودن ادویه محصول','906','نامطلوب بودطعم'],
['غیربحرانی','طعم پلاستیک سوخته','907','نامطلوب بودطعم'],
['غیربحرانی','عدم وجود مزه و طعم','908','نامطلوب بودطعم'],
['غیر بحرانی','طعم غیرطبیعی','909','نامطلوب بودطعم'],
['غیر بحرانی','ترشیدگی','910','نامطلوب بودطعم'],
['غیربحرانی','طعم فلزی','911','نامطلوب بودطعم'],
['غیر بحرانی','طعم سوختگی','912','نامطلوب بودطعم'],
['غیربحرانی','طعم رب','913','نامطلوب بودطعم'],
['غیر بحرانی','طعم کپک زدگی','914','نامطلوب بودطعم'],
['غیر بحرانی','(سایر موارد ) نامطلوب بودن طعم محصول','999','نامطلوب بودطعم'],
['غیر بحرانی','عطر تند و تیز','1001','نامطلوب بودمحصول'],
['غیر بحرانی','بوی سرکه','1002','نامطلوب بودمحصول'],
['غیر بحرانی','بوی گندیدگی','1003','نامطلوب بودمحصول'],
['غیر بحرانی','بوی وایتکس','1004','نامطلوب بودمحصول'],
['غیر بحرانی','بوی اسید','1005','نامطلوب بودمحصول'],
['غیر بحرانی','بوی پلاستیک سوخته','1006','نامطلوب بودمحصول'],
['غیر بحرانی','بوی نفت','1007','نامطلوب بودمحصول'],
['غیر بحرانی','عطر نامطلوب','1008','نامطلوب بودمحصول'],
['غیر بحرانی','بوی رب','1009','نامطلوب بودمحصول'],
['غیر بحرانی','بوی ادویه خاص','1010','نامطلوب بودمحصول'],
['غیر بحرانی','بوی تخم مرغ','1011','نامطلوب بودمحصول'],
['غیر بحرانی','بوی ضد عفونی کننده','1012','نامطلوب بودمحصول'],
['غیر بحرانی','(سایر )نامطلوب بودن عطر و بو','1099','نامطلوب بودمحصول'],
['غیر بحرانی','روشن بودن','1101','نامطلوب بودمحصول'],
['غیر بحرانی','تیره بودن','1102','نامطلوب بودمحصول'],
['غیر بحرانی','کدر بودن','1103','نامطلوب بودمحصول'],
['غیر بحرانی','سیاه بودن','1104','نامطلوب بودمحصول'],
['غیر بحرانی','قهوه ای شدن','1105','نامطلوب بودمحصول'],
['غیر بحرانی','سفید بودن','1106','نامطلوب بودمحصول'],
['غیر بحرانی','رنگ مورد نظر را به غذا نمیدهد','1107','نامطلوب بودمحصول'],
['غیر بحرانی','رنگ غیر طبیعی','1108','نامطلوب بودمحصول'],
['غیر بحرانی','سبز شدن','1109','نامطلوب بودمحصول'],
['غیربحرانی','(سایر موارد )نامطلوب بودن رنگ محصول','1199','نامطلوب بودمحصول'],
['غیربحرانی','درب آن سخت باز می شود','1201','اشکال در دردربندی'],
['غیر بحرانی','نشتی از محل درب','1202','اشکال در دردربندی'],
['بحرانی','شکستن شیشه در محل درب','1203','اشکال در دردربندی'],
['غیر بحرانی','پارگی از درب','1204','اشکال در دردربندی'],
['بحرانی','لب پر بودن شیشه','1205','اشکال در دردربندی'],
['غیر بحرانی','نداشتن ماستیک','1206','اشکال در دردربندی'],
['بحرانی','خوردگی در درب','1207','اشکال در دردربندی'],
['غیر بحرانی','سیاه شدگی داخل درب آبلیمو','1208','اشکال در دردربندی'],
['غیر بحرانی','(سایر )اشکال در درب و درب بندی','1299','اشکال در دردربندی'],
['غیر بحرانی','شکسته بودن خیار','1301','نامرغوب بودمحصول'],
['غیر بحرانی','پلاسیده بودن خیار','1302','نامرغوب بودمحصول'],
['غیر بحرانی','ریز بودن مواد اولیه','1303','نامرغوب بودمحصول'],
['بحرانی','کرم خوردگی','1304','نامرغوب بودمحصول'],
['بحرانی','حشره زدگی','1305','نامرغوب بودمحصول'],
['غیر بحرانی','لکه دار بودن میوه','1306','نامرغوب بودمحصول'],
['غیر بحرانی','خشک بودن اولیه','1307','نامرغوب بودمحصول'],
['غیر بحرانی','جوانه زدگی','1308','نامرغوب بودمحصول'],
['غیر بحرانی','دیر پز بودن محصول','1309','نامرغوب بودمحصول'],
['غیر بحرانی','سفت بودن محصول','1310','نامرغوب بودمحصول'],
['غیر بحرانی','پخت ناکافی','1311','نامرغوب بودمحصول'],
['غیر بحرانی','واریته نامناسب','1312','نامرغوب بودمحصول'],
['غیر بحرانی','(سایر موارد )نامرغوب بودن مواد اولیه و واریته','1399','نامرغوب بودمحصول'],
['غیر بحرانی','زنگ زدگی','1401','اشکال در بسلیبل'],
['غیر بحرانی','ناخوانا بودن تاریخ تولید و انقضاء','1402','اشکال در بسلیبل'],
['غیر بحرانی','نداشتن تاریخ تولید و انقضا','1403','اشکال در بسلیبل'],
['غیر بحرانی','نداشتن لیبل نشانه گذاری محصول روی بسته بندی','1404','اشکال در بسلیبل'],
['غیر بحرانی','نداشتن لیبل','1405','اشکال در بسلیبل'],
['غیر بحرانی','کم بودن شیشه یا قوطی در کارتن بسته بندی','1406','اشکال در بسلیبل'],
['بحرانی','کنده شدن لاک قوطی','1407','اشکال در بسلیبل'],
['غیر بحرانی','اشکال در لفاف جت پرینت شده','1408','اشکال در بسلیبل'],
['غیر بحرانی','کم بودن وزن محصول','1409','اشکال در بسلیبل'],
['غیر بحرانی','داشتن بارکد متفاوت','1410','اشکال در بسلیبل'],
['غیر بحرانی','ناخوانا بودن بارکد','1411','اشکال در بسلیبل'],
['غیر بحرانی','اشکال در ترجمه عربی نوشته لیبل','1412','اشکال در بسلیبل'],
['غیر بحرانی','ایجاد چسبندگی در ادویه جات','1413','اشکال در بسلیبل'],
['','قور شدگی','1414','اشکال در بسلیبل'],
['غیر بحرانی','مشکل در شکل ظاهری پت','1415','اشکال در بسلیبل'],
['غیر بحرانی','عدم انطباق محتویات محصول با لیبل','1416','اشکال در بسلیبل'],
['غیر بحرانی','زنگ زدگی داخل جداره ظرف','1417','اشکال در بسلیبل'],
['غیر بحرانی','ترکیدگی محصول در اثر از جوشاندن','1418','اشکال در بسلیبل'],
['غیر بحرانی','شکستن کلید آسان باز شو','1419','اشکال در بسلیبل'],
['غیر بحرانی','زنگ زدگی درب از داخل','1420','اشکال در بسلیبل'],
['غیر بحرانی','ترکیدگی حین نگهداری','1421','اشکال در بسلیبل'],
['غیر بحرانی','اشتباه بودن تاریخ تولید و انقضا','1422','اشکال در بسلیبل'],
['غیر بحرانی','( سایر موارد ) اشکال در بسته بندی و لیبل','1499','اشکال در بسلیبل']

  ];

function renderTable(rows){
  tbody.innerHTML = '';
  rows.forEach(r=>{
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${escapeHtml(r[0])}</td><td>${escapeHtml(r[1])}</td><td>${escapeHtml(r[2])}</td><td>${escapeHtml(r[3])}</td>`;
    if (String(r[0]).trim().startsWith('بحرانی')) tr.classList.add('critical');
    tbody.appendChild(tr);
  });
}
function escapeHtml(s){return String(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');}

renderTable(data);

searchInput.addEventListener('input', ()=> applyFilter(searchInput.value));
searchInput.addEventListener('dblclick', ()=> { searchInput.value=''; applyFilter(''); });

function applyFilter(term){
  const q = String(term||'').trim().toLowerCase();
  Array.from(tbody.rows).forEach(row=>{
    const text = Array.from(row.cells).map(td=>td.textContent.toLowerCase()).join(' | ');
    const show = !q || text.includes(q);
    row.classList.toggle('hidden', !show);
  });
}

headers.forEach(th=>{
  th.addEventListener('click', ()=>{
    const col = th.dataset.col;
    const isSame = sortState.col === col;
    sortState.dir = isSame ? -sortState.dir : 1;
    sortState.col = col;
    headers.forEach(h=>h.classList.remove('sort-asc','sort-desc'));
    th.classList.add(sortState.dir===1?'sort-asc':'sort-desc');
    sortTable(col, sortState.dir);
  });
});

function sortTable(col, dir){
  const idx = {severity:0,factor:1,code:2,category:3}[col];
  const rows = Array.from(tbody.rows).filter(r=>!r.classList.contains('hidden'));
  rows.sort((a,b)=>{
    const A = a.cells[idx].textContent.trim().toLowerCase();
    const B = b.cells[idx].textContent.trim().toLowerCase();
    const numA = parseFloat(A), numB=parseFloat(B);
    if(!isNaN(numA) && !isNaN(numB)) return dir*(numA-numB);
    return dir*(A.localeCompare(B));
  });
  const frag = document.createDocumentFragment();
  rows.forEach(r=>frag.appendChild(r));
  tbody.appendChild(frag);
}

// انتخاب چند ردیف
tbody.addEventListener('click', e=>{
  const tr = e.target.closest('tr');
  if(!tr) return;
  if(tr.classList.contains('selected')){
    tr.classList.remove('selected'); selectedRows.delete(tr);
  }else{
    tr.classList.add('selected'); selectedRows.add(tr);
  }
});

// کپی ردیف‌های انتخابی یا جستجو شده
copyBtn.addEventListener('click', ()=>{
  let rowsToCopy = Array.from(tbody.rows).filter(r=>!r.classList.contains('hidden'));
  if(selectedRows.size>0) rowsToCopy = Array.from(selectedRows);
  const text = rowsToCopy.map(r=>Array.from(r.cells).map(td=>td.textContent).join('\t')).join('\n');
  navigator.clipboard.writeText(text).then(()=>showMsg('کپی انجام شد'));
});

function showMsg(txt){const m = document.getElementById('msg'); m.textContent=txt; setTimeout(()=>{m.textContent='';},2000);}
})();
</script>

</body>
</html>
